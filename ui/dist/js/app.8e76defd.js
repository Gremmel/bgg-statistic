(function(){"use strict";var t={507:function(t,e,s){var a=s(648);const l={key:0,id:"unconnected",class:"modal"},n=(0,a.uE)('<svg id="svgWsConnected" version="1.1" viewBox="0 0 12.708006 12.7"><defs id="defs2"></defs><g id="layer1" transform="translate(-38.658384,-40.713808)"><g id="g826" transform="translate(-4.8108519,-18.174328)"><path id="path836" d="m 49.885911,58.888497 c -1.692733,-0.01755 -3.257538,0.605947 -4.474408,1.785891 -0.559684,0.542701 -0.941029,1.064008 -1.282258,1.752744 -1.008231,2.035002 -0.852767,4.452784 0.407636,6.33927 0.786717,1.177504 1.937452,2.059119 3.259453,2.497214 0.419283,0.138947 0.93212,0.257428 1.289842,0.298011 0.352729,0.04002 1.192675,0.03362 1.53853,-0.01172 0.899419,-0.117904 1.811128,-0.440049 2.556668,-0.90342 1.072111,-0.666343 1.985922,-1.723992 2.474781,-2.864279 0.27019,-0.630234 0.397265,-1.116575 0.504375,-1.930733 0.02823,-0.214596 0.01894,-1.067156 -0.01469,-1.347016 -0.272425,-2.267121 -1.755121,-4.244987 -3.835586,-5.116625 -0.753542,-0.315705 -1.444937,-0.467348 -2.260088,-0.495624 -0.05487,-0.0019 -0.10965,-0.0031 -0.164254,-0.0037 z m 1.367275,2.955395 c 0.294114,-0.0085 0.55127,0.283718 0.465447,0.602439 -0.0263,0.09766 -0.124983,0.20983 -0.652877,0.742084 -0.342035,0.344861 -0.621903,0.638602 -0.621903,0.652771 0,0.03447 0.848542,0.880508 0.883107,0.880508 0.01489,0 0.289689,-0.263596 0.61066,-0.585733 0.320973,-0.322136 0.628915,-0.609295 0.684328,-0.638132 0.275515,-0.143383 0.625497,0.02757 0.665393,0.325006 0.03396,0.253153 0.02642,0.263972 -0.659772,0.954123 l -0.635428,0.639141 0.175816,0.174277 c 0.0967,0.09584 0.194367,0.213352 0.217024,0.261098 0.05193,0.109433 0.05313,0.316709 0.0024,0.412569 -0.02135,0.04033 -0.167987,0.201392 -0.325856,0.357942 -0.157869,0.156551 -0.287032,0.297019 -0.287032,0.312119 0,0.0151 0.318591,0.346227 0.707982,0.735825 0.64816,0.648507 0.709202,0.717544 0.722567,0.817184 0.01819,0.135623 -0.04313,0.263831 -0.153435,0.320869 -0.124018,0.06413 -0.250098,0.05164 -0.370193,-0.0367 -0.05825,-0.04284 -0.367438,-0.345278 -0.687085,-0.672076 -0.319648,-0.326797 -1.715734,-1.730849 -3.102412,-3.120073 -2.453831,-2.458335 -2.521186,-2.528583 -2.521186,-2.628532 0,-0.208559 0.135413,-0.343968 0.344841,-0.344789 0.09903,-3.88e-4 0.131467,0.02809 0.806471,0.708301 l 0.703314,0.708723 0.301405,-0.298223 c 0.323528,-0.320127 0.420269,-0.385202 0.572527,-0.385202 0.150325,0 0.273525,0.06536 0.459188,0.243648 0.09373,0.09 0.181702,0.163671 0.195492,0.163671 0.01379,0 0.299939,-0.276189 0.635852,-0.613737 0.335913,-0.337547 0.650058,-0.630816 0.698117,-0.65171 0.05506,-0.02393 0.110796,-0.03582 0.165261,-0.03739 z m -3.696152,2.68772 c 0.02289,0 0.731199,0.680421 1.574064,1.512065 1.168682,1.153125 1.530592,1.525397 1.524475,1.568178 -0.0066,0.04627 -0.05083,0.06707 -0.252399,0.118642 -0.276438,0.07073 -0.748653,0.09861 -0.998939,0.05903 -1.070056,-0.169218 -1.893755,-1.02324 -2.029063,-2.103843 -0.03284,-0.262295 -0.01882,-0.518608 0.04386,-0.801061 0.05984,-0.269669 0.09246,-0.35301 0.138,-0.35301 z m -0.199417,2.66115 c 0.04173,0 0.615222,0.576906 0.615222,0.61888 0,0.05254 -0.5538,0.63263 -0.659985,0.691328 -0.08254,0.04563 -0.284425,0.06076 -0.37189,0.0279 -0.24253,-0.09113 -0.370365,-0.412816 -0.254415,-0.640254 0.04799,-0.09413 0.628544,-0.697852 0.671068,-0.697852 z" style="fill:#cd282e;stroke-width:0.02715459;"></path></g></g></svg>',1),i=[n];function o(t,e,s,n,o,r){const c=(0,a.up)("AppHeader"),d=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[!1===o.wsconnected?((0,a.wg)(),(0,a.iD)("div",l,i)):(0,a.kq)("",!0),(0,a.Wm)(c),(0,a.Wm)(d)],64)}var r=s.p+"img/powered-by-bgg-reversed-rgb.820e4c9f.svg";const c=t=>((0,a.dD)("data-v-12d0b970"),t=t(),(0,a.Cn)(),t),d=c((()=>(0,a._)("div",{"data-bs-theme":"dark",class:"p-1 text-light bg-dark d-flex align-items-center"},[(0,a._)("a",{href:"https://boardgamegeek.com/",target:"_blank",rel:"noopener",class:"me-2"},[(0,a._)("img",{src:r,alt:"BGG",style:{height:"32px",width:"auto","vertical-align":"middle"}})])],-1))),u=[d];function p(t,e,s,l,n,i){return(0,a.wg)(),(0,a.iD)("header",null,u)}var g={name:"AppHeader",props:{},data(){return{ioConnected:!1}},sockets:{connect(){console.log("socket Header connected")}},mounted(){console.log("asdf",this.$options),this.$socket&&this.$socket.connected&&this.toServer("init","Hallo vom Client")},methods:{toServer(t,e){const s={callFunction:t,payload:e};console.log(this.$options.name,s),this.$socket.emit(this.$options.name,s)}}},h=s(118);const w=(0,h.Z)(g,[["render",p],["__scopeId","data-v-12d0b970"]]);var y=w,b={name:"AppView",components:{AppHeader:y},data(){return{wsconnected:!1}},sockets:{connect(){this.wsconnected=!0},disconnect(){this.wsconnected=!1}}};const m=(0,h.Z)(b,[["render",o]]);var v=m,f=s(406),k=s(522),_=s(495);const D=t=>((0,a.dD)("data-v-0d2d7328"),t=t(),(0,a.Cn)(),t),C={"data-bs-theme":"dark",class:"home bg-dark"},x={class:"nav nav-tabs bg-dark"},P={class:"nav-item"},z={class:"nav-item"},S={class:"nav-item"},T={class:"nav-item"},V={class:"nav-item"},O={class:"list-group p-2"},j={class:"form-check form-switch ms-1"},q=["id","onUpdate:modelValue","onClick"],B=["for"],H={class:"container bg-dark"},F={class:"input-group mb-3"},G={class:"form-check form-switch ms-1 text-light text-start"},$=D((()=>(0,a._)("label",{class:"form-check-label",for:"sortByRefreshTime"}," sort Aktualisierungs Datum ",-1))),A={class:"list-group"},M=["data-bs-target","aria-controls"],E={class:"col-auto text-start",style:{"min-width":"100px"}},K=["src","data-bs-target","aria-controls"],L=D((()=>(0,a._)("br",null,null,-1))),R={key:0,class:"badge rounded-pill text-bg-success"},Y={class:"col text-start"},U={class:"row"},Z={class:"col"},W={class:"row"},N={class:"col p-0"},I=["href"],X={style:{"font-weight":"bold"}},J={key:0},Q={key:1},tt={key:2},et={class:"row"},st={key:0,class:"row"},at={key:1,class:"col"},lt={class:"card bg-dark border-success"},nt={class:"card-body pt-1 pb-1"},it={class:"row"},ot={class:"row"},rt={key:0,class:"row"},ct={style:{"font-size":"0.9rem",color:"lightgray"}},dt=["id"],ut={class:"container bg-dark"},pt={class:"input-group mb-3"},gt={class:"list-group"},ht=["data-bs-target","aria-controls"],wt={class:"col-auto text-start"},yt=["src","data-bs-target","aria-controls"],bt={class:"col text-start"},mt={class:"row"},vt={class:"col"},ft={class:"row"},kt={class:"col"},_t={class:"col"},Dt={class:"row"},Ct={class:"col"},xt=["id"],Pt={class:"col"},zt={class:"row"},St={class:"col p-1"},Tt={class:"table m-0"},Vt={class:"p-1"},Ot={class:"p-1"},jt={key:0,class:"badge bg-dark rounded-pill"},qt={class:"p-1"},Bt={key:0,class:"row"},Ht={class:"col"},Ft={class:"bg-dark text-light"},Gt={class:"container text-start"},$t={class:"row"},At=D((()=>(0,a._)("div",{class:"col"}," gewertete Partien: ",-1))),Mt={class:"col"},Et={class:"row text-dark"},Kt={class:"treppe"},Lt=D((()=>(0,a._)("img",{src:"treppchen.jpg",alt:"siegertreppe",style:{width:"100%"},class:"imgTreppchen"},null,-1))),Rt={key:0,class:"player1"},Yt={key:1,class:"pointsPlayer1"},Ut={key:2,class:"player2"},Zt={key:3,class:"pointsPlayer2"},Wt={key:4,class:"player3"},Nt={key:5,class:"pointsPlayer3"},It={class:"table text-light"},Xt={class:"bg-dark text-light"},Jt={class:"container text-center"},Qt=["disabled"],te=D((()=>(0,a._)("br",null,null,-1))),ee=["disabled"],se=D((()=>(0,a._)("br",null,null,-1))),ae=["disabled"],le={key:0,class:"progress m-4",role:"progressbar","aria-label":"Success striped example","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"};function ne(t,e,s,l,n,i){return(0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("ul",x,[(0,a._)("li",P,[(0,a._)("a",{class:(0,_.C_)(["nav-link text-secondary",{"active text-light bg-secondary":"player"===n.status.tabView}]),href:"#",onClick:e[0]||(e[0]=t=>i.tabViewClick("player"))},"Spieler",2)]),(0,a._)("li",z,[(0,a._)("a",{class:(0,_.C_)(["nav-link text-secondary",{"active text-light bg-secondary":"collection"===n.status.tabView}]),href:"#",onClick:e[1]||(e[1]=t=>i.tabViewClick("collection"))},"Spiele",2)]),(0,a._)("li",S,[(0,a._)("a",{class:(0,_.C_)(["nav-link text-secondary",{"active text-light bg-secondary":"plays"===n.status.tabView}]),href:"#",onClick:e[2]||(e[2]=t=>i.tabViewClick("plays"))},"Partien",2)]),(0,a._)("li",T,[(0,a._)("a",{class:(0,_.C_)(["nav-link text-secondary",{"active text-light bg-secondary":"rating"===n.status.tabView}]),href:"#",onClick:e[3]||(e[3]=t=>i.tabViewClick("rating"))},"Wertung",2)]),(0,a._)("li",V,[(0,a._)("a",{class:(0,_.C_)(["nav-link text-secondary",{"active text-light bg-secondary":"bgg"===n.status.tabView}]),href:"#",onClick:e[4]||(e[4]=t=>i.tabViewClick("bgg"))},"BGG",2)])]),(0,a.wy)((0,a._)("div",null,[(0,a._)("ol",O,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.status.players,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:"list-group-item d-flex align-items-start"},[(0,a._)("div",j,[(0,a.wy)((0,a._)("input",{id:e,"onUpdate:modelValue":e=>t.checked=e,class:"form-check-input",type:"checkbox",role:"switch",onClick:t=>i.playerClicked(e)},null,8,q),[[f.e8,t.checked]]),(0,a._)("label",{class:"form-check-label",for:e},(0,_.zw)(t.name),9,B)])])))),128))])],512),[[f.F8,"player"===n.status.tabView]]),(0,a.wy)((0,a._)("div",H,[(0,a._)("div",F,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>n.searchText=t),type:"text",class:"form-control",placeholder:"finde..."},null,512),[[f.nr,n.searchText]]),(0,a._)("button",{onClick:e[6]||(e[6]=(...t)=>i.clickClearTextSearch&&i.clickClearTextSearch(...t)),class:"btn btn-outline-secondary",type:"button",id:"button-addon2"},"X")]),(0,a._)("div",G,[(0,a.wy)((0,a._)("input",{id:"sortByRefreshTime","onUpdate:modelValue":e[7]||(e[7]=t=>n.sortByRefreshTime=t),class:"form-check-input",type:"checkbox",role:"switch"},null,512),[[f.e8,n.sortByRefreshTime]]),$]),(0,a._)("ol",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.collection,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"list-group-item list-group-item-plays text-light bg-dark"},[(0,a._)("div",{class:"row","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t.collid,"aria-expanded":"false","aria-controls":"collapse"+t.collid},[(0,a._)("div",E,[(0,a._)("img",{src:t.thumbnail,class:"thumbnail",alt:"thumbnail","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t.collid,"aria-expanded":"false","aria-controls":"collapse"+t.collid},null,8,K),L,"1"==t.status.own?((0,a.wg)(),(0,a.iD)("span",R," Own ")):(0,a.kq)("",!0)]),(0,a._)("div",Y,[(0,a._)("div",U,[(0,a._)("div",Z,[(0,a._)("div",W,[(0,a._)("div",N,[(0,a._)("a",{style:{"text-decoration":"none",color:"white"},href:`https://boardgamegeek.com/boardgame/${t.objectid}`,target:"_blank"},[(0,a._)("span",X,(0,_.zw)(t.name.text),1)],8,I),t?.statistics?.ratings?.ranks?.rank?.value?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,_.C_)(["ms-2 badge rounded-pill text-bg-primary",{"text-bg-warning":t?.statistics?.ratings?.ranks?.rank?.value<100}])},(0,_.zw)(t.statistics.ratings.ranks.rank.value),3)):(0,a.kq)("",!0),t?.statistics?.ratings?.ranks?.rank[0]?.value?((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,_.C_)(["ms-2 badge rounded-pill text-bg-primary",{"text-bg-warning":t?.statistics?.ratings?.ranks?.rank[0]?.value<100}])},(0,_.zw)(t.statistics.ratings.ranks.rank[0].value),3)):(0,a.kq)("",!0),"undefined"!==t.rankDiv?((0,a.wg)(),(0,a.iD)("span",{key:2,class:(0,_.C_)(["ms-2 badge rounded-pill",{"bg-secondary":"="===t.rankChange,"bg-success":"<"===t.rankChange,"bg-danger":">"===t.rankChange}])},[t.rankDiv>0?((0,a.wg)(),(0,a.iD)("span",J,"+")):(0,a.kq)("",!0),0!==t.rankDiv?((0,a.wg)(),(0,a.iD)("span",Q,(0,_.zw)(t.rankDiv),1)):(0,a.kq)("",!0),0==t.rankDiv?((0,a.wg)(),(0,a.iD)("span",tt,"=")):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)])]),(0,a._)("div",et," Jahr: "+(0,_.zw)(t.yearpublished),1),t.numplays>0?((0,a.wg)(),(0,a.iD)("div",st," gespielt: "+(0,_.zw)(t.numplays),1)):(0,a.kq)("",!0),t.statistics?((0,a.wg)(),(0,a.iD)("div",at,[(0,a._)("div",lt,[(0,a._)("div",nt,[(0,a._)("div",it," Bewertung: "+(0,_.zw)(Math.round(100*t.statistics.ratings.average.value)/100)+" ("+(0,_.zw)(t.statistics.ratings.usersrated.value)+") ",1),(0,a._)("div",ot," KomplexitÃ¤t: "+(0,_.zw)(Math.round(100*t.statistics.ratings.averageweight.value)/100)+" ("+(0,_.zw)(t.statistics.ratings.numweights.value)+") ",1),t.refreshDateDisplay?((0,a.wg)(),(0,a.iD)("div",rt,[(0,a._)("div",ct," aktuallisiert: "+(0,_.zw)(t.refreshDateDisplay),1)])):(0,a.kq)("",!0)])])])):(0,a.kq)("",!0)])]),(0,a._)("div",{id:"collapse"+t.collid},null,8,dt)])],8,M)])))),128))])],512),[[f.F8,"collection"===n.status.tabView]]),(0,a.wy)((0,a._)("div",ut,[(0,a._)("div",pt,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>n.searchText=t),type:"text",class:"form-control",placeholder:"finde..."},null,512),[[f.nr,n.searchText]]),(0,a._)("button",{onClick:e[9]||(e[9]=(...t)=>i.clickClearTextSearch&&i.clickClearTextSearch(...t)),class:"btn btn-outline-secondary",type:"button",id:"button-addon2"},"X")]),(0,a._)("ol",gt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.plays,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:(0,_.C_)(["list-group-item list-group-item-plays text-light",{"bg-secondary":"1"==t.nowinstats,"bg-dark":"0"==t.nowinstats}])},[(0,a._)("div",{class:"row","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t.id,"aria-expanded":"false","aria-controls":"collapse"+t.id},[(0,a._)("div",wt,[(0,a._)("img",{src:t.collection.thumbnail,class:"thumbnail",alt:"thumbnail","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t.id,"aria-expanded":"false","aria-controls":"collapse"+t.id},null,8,yt)]),(0,a._)("div",bt,[(0,a._)("div",mt,[(0,a._)("div",vt,(0,_.zw)(t.collection.name.text),1)]),(0,a._)("div",ft,[(0,a._)("div",kt,(0,_.zw)(t.date),1),(0,a._)("div",_t,(0,_.zw)(t.length)+" min ",1)]),(0,a._)("div",Dt,[(0,a._)("div",Ct,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.players.player,(t=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",{key:t.name,class:"badge bg-secondary rounded-pill me-1"},(0,_.zw)(t.name),1)),[[f.F8,"1"==t.win]]))),128))])]),(0,a._)("div",{id:"collapse"+t.id,class:"row collapse card bg-light p-1 m-1"},[(0,a._)("div",Pt,[(0,a._)("div",zt,[(0,a._)("div",St,[(0,a._)("table",Tt,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.players.player,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.name,class:(0,_.C_)({"bg-success":"1"==t.win})},[(0,a._)("td",Vt,(0,_.zw)(t.name),1),(0,a._)("td",Ot,[t.points>0?((0,a.wg)(),(0,a.iD)("span",jt,(0,_.zw)(t.points),1)):(0,a.kq)("",!0)]),(0,a._)("td",qt,(0,_.zw)(t.score),1)],2)))),128))])])])]),t.commentsFehler?((0,a.wg)(),(0,a.iD)("div",Bt,[(0,a._)("div",Ht,(0,_.zw)(t.comments),1)])):(0,a.kq)("",!0)])],8,xt)])],8,ht)],2)))),128))])],512),[[f.F8,"plays"===n.status.tabView]]),(0,a.wy)((0,a._)("div",Ft,[(0,a._)("div",Gt,[(0,a._)("div",$t,[At,(0,a._)("div",Mt,(0,_.zw)(n.statistic.countRatedPlays),1)]),(0,a._)("div",Et,[(0,a._)("div",Kt,[Lt,i.ratedPlayers[0]?((0,a.wg)(),(0,a.iD)("span",Rt,(0,_.zw)(i.ratedPlayers[0].name),1)):(0,a.kq)("",!0),i.ratedPlayers[0]?((0,a.wg)(),(0,a.iD)("span",Yt,(0,_.zw)(i.ratedPlayers[0].points)+" ("+(0,_.zw)(i.ratedPlayers[0].win)+") ",1)):(0,a.kq)("",!0),i.ratedPlayers[1]?((0,a.wg)(),(0,a.iD)("span",Ut,(0,_.zw)(i.ratedPlayers[1].name),1)):(0,a.kq)("",!0),i.ratedPlayers[1]?((0,a.wg)(),(0,a.iD)("span",Zt,(0,_.zw)(i.ratedPlayers[1].points)+" ("+(0,_.zw)(i.ratedPlayers[1].win)+") ",1)):(0,a.kq)("",!0),i.ratedPlayers[2]?((0,a.wg)(),(0,a.iD)("span",Wt,(0,_.zw)(i.ratedPlayers[2].name),1)):(0,a.kq)("",!0),i.ratedPlayers[2]?((0,a.wg)(),(0,a.iD)("span",Nt,(0,_.zw)(i.ratedPlayers[2].points)+" ("+(0,_.zw)(i.ratedPlayers[2].win)+") ",1)):(0,a.kq)("",!0)]),(0,a._)("div",null,[(0,a._)("table",It,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.restOfPlayers,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:"tr"+t.name},[(0,a._)("td",null,(0,_.zw)(t.name),1),(0,a._)("td",null,(0,_.zw)(t.points)+" ("+(0,_.zw)(t.win)+")",1)])))),128))])])])])])],512),[[f.F8,"rating"===n.status.tabView]]),(0,a.wy)((0,a._)("div",Xt,[(0,a._)("div",Jt,[(0,a._)("button",{disabled:n.disableBtnDownload,onClick:e[10]||(e[10]=t=>i.clickDownloadPlays(!1)),type:"button",class:"btn btn-secondary mt-5"},"Partien neu von BGG Laden (5 Tage)",8,Qt),te,(0,a._)("button",{disabled:n.disableBtnDownload,onClick:e[11]||(e[11]=t=>i.clickDownloadPlays(!0)),type:"button",class:"btn btn-secondary mt-5"},"Partien neu von BGG Laden (alle)",8,ee),se,(0,a._)("button",{disabled:n.disableBtnDownload,onClick:e[12]||(e[12]=t=>i.clickDownloadCatalog()),type:"button",class:"btn btn-secondary mt-2"},"Sammlung neu von BGG Laden",8,ae)]),""!==i.downloadProgressStyle?((0,a.wg)(),(0,a.iD)("div",le,[(0,a._)("div",{class:"progress-bar progress-bar-striped bg-success",style:(0,_.j5)(i.downloadProgressStyle)},null,4)])):(0,a.kq)("",!0)],512),[[f.F8,"bgg"===n.status.tabView]])])}var ie=s(386),oe={name:"HomeView",components:{},data(){return{name:"HomeView",ioConnected:!1,status:{},statistic:{},disableBtnDownload:!1,downloadPlaysCount:{value:0,total:10},sortByRefreshTime:!1,fuseOptions:{threshold:.5,keys:["name.text","yearpublished"]},fuseOptionsPlays:{threshold:.5,keys:["item.name"]},fuseCollection:null,fusePlays:null,searchText:""}},sockets:{connect(){console.log("socket HomeView connected"),this.toServer("init")},initHome(t){console.log("initHome",t),t.players&&(t.players=this.sortStatusPlayers(t.players)),this.status=t},setStatistic(t){console.log("statistic",t),this.statistic=t,this.fusePlays=new ie.Z(this.statistic.plays,this.fuseOptionsPlays),this.fuseCollection=new ie.Z(this.statistic.collection.item,this.fuseOptions)},downloadFinished(){this.disableBtnDownload=!1,this.downloadPlaysCount.value=0,this.status.tabView="rating",this.sendStatusChanged()},statusGetPlayData(t){this.downloadPlaysCount.value=t.value,this.downloadPlaysCount.total=t.total}},computed:{plays(){if(!this.statistic.plays)return[];let t=[];if(""!==this.searchText&&"plays"===this.status.tabView){const e=this.fusePlays.search(this.searchText);for(const s of e)t.push(s.item)}else t=[...this.statistic.plays],t.sort(((t,e)=>new Date(e.date)-new Date(t.date)));return t},collection(){const t=[];if(this.statistic.collection&&this.statistic.collection.item&&"collection"===this.status.tabView){if(""!==this.searchText){const e=this.fuseCollection.search(this.searchText);for(const s of e)s.item.numplays>0&&t.push(s.item)}else if(this.sortByRefreshTime){for(const e of this.statistic.collection.item)t.push(e);t.sort(((t,e)=>new Date(e.refreshDate)-new Date(t.refreshDate)))}else{const e={};for(const s of this.plays)for(const a of this.statistic.collection.item)s.item.objectid===a.objectid&&(e[a.objectid]||(t.push(a),e[a.objectid]=!0))}for(const e of t)if(e.refreshDate){const t=new Date(e.refreshDate),s=new Date,a=s-t,l=Math.round(a/864e5);e.refreshDateDisplay=0===l?"heute":1===l?"gestern":`vor ${l} Tagen`}return t}return t},downloadProgressStyle(){let t="";return this.downloadPlaysCount.value>0&&(t="width: "+this.downloadPlaysCount.value/this.downloadPlaysCount.total*100+"%"),t},ratedPlayers(){const t=[];for(const s in this.statistic.players)if(Object.hasOwnProperty.call(this.statistic.players,s)){const e=this.statistic.players[s];e.points=Math.round(100*e.points)/100,t.push(e)}const e=t.slice(0);return e.sort(((t,e)=>e.points-t.points)),e},restOfPlayers(){const t=this.ratedPlayers.slice(3);return t}},created(){},mounted(){console.log("HomeView Mounted",this.$socket.connected),this.$socket.connected&&this.toServer("init","hallo vom client")},methods:{sortStatusPlayers(t){if(console.log("sortStatusPlayers"),t){const e=Object.keys(t).sort(((e,s)=>{const a=t[e].sortValue??0,l=t[s].sortValue??0;if(a!==l)return l-a;const n=t[e].name?.toLowerCase()??"",i=t[s].name?.toLowerCase()??"";return n.localeCompare(i)})).reduce(((e,s)=>({...e,[s]:t[s]})),{});return e}},clickClearTextSearch(){this.searchText=""},clickDownloadPlays(t){this.disableBtnDownload=!0,this.toServer("downloadPlays",t)},clickDownloadCatalog(){this.disableBtnDownload=!0,this.toServer("downloadCatalog")},async playerClicked(t){console.log("player clicked",t),this.status.players[t].sortValue+=1,this.sendStatusChanged()},sendStatusChanged(){setTimeout((()=>{this.toServer("statusChanged",this.status)}),100)},tabViewClick(t){this.status.tabView=t,this.status.players=this.sortStatusPlayers(this.status.players),this.sendStatusChanged()},toServer(t,e){const s={callFunction:t,payload:e};console.log(this.name,s),this.$socket.emit(this.name,s)}}};const re=(0,h.Z)(oe,[["render",ne],["__scopeId","data-v-0d2d7328"]]);var ce=re,de=s(201);const ue=[{path:"/",name:"home",component:ce},{path:"/about",name:"about",component(){return s.e(443).then(s.bind(s,938))}}],pe=(0,de.p7)({history:(0,de.r5)(),routes:ue});var ge=pe,he=s(907),we=(0,he.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),ye=s(760),be=s.n(ye);s(702);const me=(0,f.ri)(v).use(we).use(ge),ve=(0,k.io)("http://localhost:3000");me.use(new(be())({debug:!0,connection:ve})),me.mount("#app")}},e={};function s(a){var l=e[a];if(void 0!==l)return l.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,a,l,n){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],l=t[d][1],n=t[d][2];for(var o=!0,r=0;r<a.length;r++)(!1&n||i>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[r])}))?a.splice(r--,1):(o=!1,n<i&&(i=n));if(o){t.splice(d--,1);var c=l();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[a,l,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,a){return s.f[a](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/about.3efa921e.js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="bgg-statistic:";s.l=function(a,l,n,i){if(t[a])t[a].push(l);else{var o,r;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==e+n){o=u;break}}o||(r=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",e+n),o.src=a),t[a]=[l];var p=function(e,s){o.onerror=o.onload=null,clearTimeout(g);var l=t[a];if(delete t[a],o.parentNode&&o.parentNode.removeChild(o),l&&l.forEach((function(t){return t(s)})),e)return e(s)},g=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),r&&document.head.appendChild(o)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.f.j=function(e,a){var l=s.o(t,e)?t[e]:void 0;if(0!==l)if(l)a.push(l[2]);else{var n=new Promise((function(s,a){l=t[e]=[s,a]}));a.push(l[2]=n);var i=s.p+s.u(e),o=new Error,r=function(a){if(s.o(t,e)&&(l=t[e],0!==l&&(t[e]=void 0),l)){var n=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",o.name="ChunkLoadError",o.type=n,o.request=i,l[1](o)}};s.l(i,r,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,a){var l,n,i=a[0],o=a[1],r=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(l in o)s.o(o,l)&&(s.m[l]=o[l]);if(r)var d=r(s)}for(e&&e(a);c<i.length;c++)n=i[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},a=self["webpackChunkbgg_statistic"]=self["webpackChunkbgg_statistic"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(507)}));a=s.O(a)})();
//# sourceMappingURL=app.8e76defd.js.map